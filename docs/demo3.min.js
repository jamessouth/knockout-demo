class Demo3 {
  static get inputProperties() { return ['--points']; }

  static getRandomPoint(width, height) {
    return [
      Math.floor(Math.random() * (width)),
      Math.floor(Math.random() * (height)),
    ];
  }

  static getWidth() {
    return Math.floor(Math.random() * 30) + 1;
  }

  static getColor(base, range) {
    return base + Math.floor(Math.random() * range);
  }

  static getTransparency() {
    return Math.floor(Math.random() * 101) / 100;
  }

  static makeColor() {
    return [
      Demo3.getColor(0, 256),
      Demo3.getColor(0, 256),
      Demo3.getColor(0, 256)
      ];
  }

  paint(ctx, { width, height }, props) { // eslint-disable-line
    const points = props.get('--points');


    for (let i = 0; i < points; i += 1) {
      const radius = Demo3.getColor(4, 60);
      const [x, y] = Demo3.getRandomPoint(width + 1, height + 1);
      const [r, g, b] = Demo3.makeColor();
      // console.log(r,g,b);

      const radgrad = ctx.createRadialGradient(x, y, 0, x+(radius/4), y+(radius/4), radius);
      radgrad.addColorStop(0, '#ffffff');
      radgrad.addColorStop(0.99, `rgba(${r}, ${g}, ${b}, 1)`);
      radgrad.addColorStop(1, `rgba(${r}, ${g}, ${b}, 0)`);

      ctx.fillStyle = radgrad;
      // ctx.beginPath();
      // ctx.arc(..., radius, 0, 2 * Math.PI);
      // ctx.fillStyle = `rgba(${Demo3.getColor(201, 40)}, ${Demo3.getColor(148, 45)}, ${Demo3.getColor(102, 45)}, ${Demo3.getColor(80, 21) / 100})`;
      ctx.fillRect(0, 0, width, height);

    }



  }
}
registerPaint('demo3', Demo3); // eslint-disable-line
